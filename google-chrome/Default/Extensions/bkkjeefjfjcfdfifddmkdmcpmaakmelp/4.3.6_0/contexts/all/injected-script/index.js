import { a as ae } from '../../../chunks/index-cd83db40.js';
import { n } from '../../../chunks/create-5399fd46.js';
import { n as n$1 } from '../../../chunks/util-dbc6d9af.js';
import '../../../chunks/transframe-provider-e657167f.js';

var o=class{},a=new class extends o{getPageInfo(){return {title:document.title,url:window.location.href,contentPageId:"",contentPageOwnerRef:"",site:"genericSite",contentPageType:"url",data:{}}}},r=/[a-zA-Z0-9]+/,i=new class extends o{getPageInfo(){let e,t,n;if("player.twitch.tv"===window.location.hostname.replace(/^www\./,"")){e="twitchEmbed";let o=new URLSearchParams(window.location.search),a=Object.fromEntries(o.entries());n=a.channel,t=a.channel;}else {e="twitch";let o=window.location.pathname.match(r)?.[0];t=o||"",n=o||"";}return {title:document.title,url:window.location.href,contentPageType:e,contentPageId:n,contentPageOwnerRef:t,site:"twitch",data:{}}}},c={genericSite:a,twitch:i,youtube:new class extends o{getPageInfo(){let e,t=!!document.querySelector("ytm-mobile-topbar-renderer"),n=document.querySelector(t?"ytm-app":"ytd-page-manager")?.data?.playerResponse?.videoDetails;return e=n?.isLiveContent?n.isLive?"youtubeLiveNow":n.isUpcoming?"youtubeLiveUpcoming":"youtubeLiveVod":"youtubeVideo",{title:n?.title||document.title,url:window.location.href,contentPageType:e,contentPageId:n?.videoId||"",contentPageOwnerRef:n?.channelId||"",site:"youtube",data:{}}}}};function s(){let e=function(e=window.location.href){switch(new URL(e).hostname.replace(/^www\./,"")){case"twitch.tv":case"player.twitch.tv":return "twitch";case"youtube.com":case"m.youtube.com":return "youtube";default:return "genericSite"}}();return c[e].getPageInfo()}var u=ae(),d=()=>{u.set(s());},l=()=>{let e=document.querySelector("body");if(!e)return console.error("body not found");let t=function(e,t=200){let n;return (...o)=>{clearTimeout(n),n=setTimeout((()=>e(...o)),t);}}(d,100);new MutationObserver(t).observe(e,{childList:!0,subtree:!0});};["interactive","complete"].includes(document.readyState)?l():window.addEventListener("DOMContentLoaded",l),setInterval(d,3e3);const w=[];u.onChange((({value:e})=>{w.forEach((t=>t(e)));}));n({namespace:"truffle-injected-api-v1",api:{pageInfoGet:(e,t)=>(t&&w.push(t),u.get())},strictMode:!0}).registerFrame(n$1(window));
