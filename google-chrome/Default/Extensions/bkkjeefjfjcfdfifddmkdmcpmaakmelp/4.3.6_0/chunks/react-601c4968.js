import { F as F$1, X, f as fe, o, a as ae, t as t$1 } from './index-cd83db40.js';
import { F, t } from './index-5aa1df3a.js';

var i,a={exports:{}},f={};function l(e){const t$1=t.exports.useRef();t$1.current||(t$1.current=function(){let e,t,r=0;const n=()=>{r++,null==e||e();};return {subscribe:r=>(e=r,()=>{null==t||t(),t=void 0;}),getVersion:()=>r,run:e=>{null==t||t();const{value:r,dispose:o,resubscribe:s}=X(e,n,void 0,void 0,!0);return t=o,r}}}());const{subscribe:r,getVersion:n,run:o}=t$1.current,c=o(e);return a.exports.useSyncExternalStore(r,n,n),c}a.exports=function(){if(i)return f;i=1;var e=F,t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=e.useState,n=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function s(e){var r=e.getSnapshot;e=e.value;try{var n=r();return !t(e,n)}catch(e){return !0}}var a="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var c=t(),i=r({inst:{value:c,getSnapshot:t}}),a=i[0].inst,f=i[1];return o((function(){a.value=c,a.getSnapshot=t,s(a)&&f({inst:a});}),[e,c,t]),n((function(){return s(a)&&f({inst:a}),e((function(){s(a)&&f({inst:a});}))}),[e]),u(c),c};return f.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:a,f}();const d="function"==typeof Symbol&&Symbol.for;function p(t$1,r,n,o){const u=d?Symbol.for("react.forward_ref"):"function"==typeof t.exports.forwardRef&&t.exports.forwardRef((e=>null)).$$typeof,c=d?Symbol.for("react.memo"):"function"==typeof t.exports.forwardRef&&t.exports.memo((e=>null)).$$typeof;if(t$1.__legend_proxied)return t$1;let i=!1,a=!1,f=t$1;c&&f.$$typeof===c&&f.type&&(a=!0,f=f.type),u&&f.$$typeof===u&&(i=!0,f=f.render);const p=new Proxy(f,{apply(t$1,u,c){if(n){const t$1=c[0],r={},n=Object.keys(t$1);for(let u=0;u<n.length;u++){const c=n[u],i=t$1[c];if(c.startsWith("$")||c.endsWith("$")){const n=c.endsWith("$")?c.slice(0,-1):c.slice(1);r[n]=l(i);const u=null==o?void 0:o[n];if(u&&F$1(i)){void 0!==u.defaultValue&&void 0===r[n]&&(r[n]=u.defaultValue);const e=e=>{var r;i.set(u.getValue(e)),null===(r=t$1[u.handler])||void 0===r||r.call(t$1,e);};r[u.handler]=t.exports.useCallback(e,[t$1[u.handler],o]);}delete r[c];}else void 0===r[c]&&(r[c]=i);}c[0]=r;}return r?l((()=>Reflect.apply(t$1,u,c))):Reflect.apply(t$1,u,c)}});let y;return i?(y=t.exports.forwardRef(p),y.__legend_proxied=!0):y=p,r||a?t.exports.memo(y):y}function y(e){return p(e,!0)}function m(e,t){return p(e,!1,!0,t)}function v(e,n,u){!u&&t$1(n)&&(u=n,n=void 0);const c=t.exports.useRef({});return c.current.compute=e,c.current.set=n,t.exports.useMemo((()=>fe((()=>o(c.current.compute)?c.current.compute():c.current.compute),n?e=>c.current.set(e):void 0)),u||[])}function x(e){return t.exports.useMemo((()=>ae(o(e)?e():e)),[])}

export { m, v, x, y };
